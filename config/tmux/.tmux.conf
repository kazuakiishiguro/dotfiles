# -- General ----------------------------------------------------
set -g default-command "login-shell"
set-option -g default-command ""
set-option -g default-terminal screen-256color    # color
set -g terminal-overrides 'xterm:colors=256'
unbind C-b                                        # unbind prefix setting
bind C-a send-prefix                              # set control-a for prefix
set -g prefix C-a                                 # prefix setting
setw -g mode-keys vi                              # vim-ish keyvind

# -- Display ----------------------------------------------------
set -g base-index 1                               # start windows numbering at 1
setw -g pane-base-index 1                         # make pane numbering consistent with windows
set -g history-limit 5000                        # set bash history limit
set -g mouse on                                   # enable mouse select on pane
bind e setw synchronize-panes on
bind E setw synchronize-panes off
bind '"' split-window -c '#{pane_current_path}'   # pane current path when split window 
bind % split-window -h -c '#{pane_current_path}'  # pane current path when split window 
setw -g monitor-activity off                      # activity monitoring
set -g visual-activity off
unbind =                                          # tile all windows
bind = select-layout tiled

# -- Key Bindings -----------------------------------------------
bind -T copy-mode-vi v send -X begin-selection

# OSX
if-shell "type pbcopy >/dev/null 2>&1" "bind-key -T copy-mode-vi Enter send -X copy-pipe-and-cancel pbcopy"
if-shell "type pbcopy >/dev/null 2>&1" "bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel pbcopy"

# Debian
if-shell "type xsel >/dev/null 2>&1" "bind-key -T copy-mode-vi Enter send -X copy-pipe-and-cancel 'xsel -bi'"
if-shell "type xsel >/dev/null 2>&1" "bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel 'xsel -bi'"

# -- For tmux-powerline -----------------------------------------
set-option -g status on
set-option -g status-interval 2
set-option -g status-justify "centre"
set-window-option -g window-status-current-format "#[fg=colour236, bg=colour23]#[fg=colour255, bg=colour23] #I ⮁ #W #[fg=colour23, bg=colour236]"
set-window-option -g window-status-fg colour23
set-option -g status-bg colour236
set-option -g status-left-length 60
set-option -g status-right-length 90
set-option -g status-left "#(~/.tmux-powerline/powerline.sh left)"
set-option -g status-right "#(~/.tmux-powerline/powerline.sh right)"